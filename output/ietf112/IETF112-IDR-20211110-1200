# idr

## Summary
The idr working group session for IETF 112 covered a range of topics including administrative updates, recent RFC publications, adopted drafts, and documents in the IESG/IETF Last Call pipeline. Several interim meetings were summarized. Key discussions revolved around the BGP YANG module, coordination of BGP multicast work across multiple working groups, and a series of presentations on BGP extensions for SR policies, BIER TE, ISIS Flood Reflectors, and link bandwidth extended communities. A significant part of the session was dedicated to a meta-discussion on improving cross-working group coordination for overlapping technical work.

## Key Discussion Points

*   **Administrative Updates**
    *   Attendees were reminded of the IETF Note Well, Code of Conduct, and Anti-Harassment Policy. Emphasis was placed on respectful conduct, clear communication, good logic, and engineering judgment.
*   **Recent Publications**
    *   **RFCs Published:** BGP-LS Segment Routing extensions (egress peer engineering, extended attribute groups), Optimal Reflection, Flowspec guidelines (relaxed address verification).
    *   **Routing WG Publication:** IETF YANG Policy Module (relevant for BGP YANG).
*   **Recently Adopted Work**
    *   `draft-ietf-idr-flowspec-srv6` (under Flowspec v2 umbrella).
    *   `draft-ietf-idr-bgp-ls-service-segments`.
*   **Documents in Publication Pipeline**
    *   `draft-ietf-idr-bgp-open-policy`: Submitted to IESG for publication, working through IETF last call comments.
    *   `draft-ietf-idr-bgp-ls-rfc7752bis`: Responding to shepherd comments, iterating during IETF week.
    *   `draft-ietf-idr-srte-policy-module`: Waiting for shepherd write-up.
    *   `draft-ietf-idr-flowspec-rpd`: Finished WG last call, waiting on consensus call write-up.
    *   `draft-ietf-idr-bgp-extended-communities-registry`: Finished IETF last call, pending publication.
*   **Interim Meetings Summary**
    *   **Flowspec v2 (Sept 27):** Discussed functional contents, incremental deployment, SRv6 presentation. Next step: first revision of doc and mailing list discussion.
    *   **BGP Classful Transport (BCT) / Color-aware Routing (CAR):** Cancelled due to author conflicts, rescheduling pending.
    *   **Autoconfiguration:** Reviewed design team requirements, Robert Brescia presented on IXP auto-discovery (not data center specific but extended context), Randy Bush presented L3DL proposal review, Shiva updated `draft-minto` (non-auto-discovery), Aishwaren reviewed EPNRF. Next step: protocol selection discussion, potential additional interims.
*   **Upcoming Interims:** Scheduled for December 6th, December 13th, with a possible November 30th option. Topics: BCT/CAR, Flowspec v2, Autoconf, and general work advancement.
*   **BGP YANG Module Status (`draft-ietf-idr-bgp-yang`)**
    *   Advancement since IETF 111. Authors aim for functional completion by year-end.
    *   Leverages Routing Config and Policy modules, provides fundamentals for VPN models.
    *   **Call for impartial reviewers** as many contributors have become chairs.
*   **BGP Multicast Work Coordination**
    *   Significant overlap observed across BESS, IDR, Beer, Spring, and PIM working groups.
    *   Chairs (BESS, IDR, ADs) are in communication to coordinate review and adoption. Cross-WG review is minimal, specific WG adoption to be determined. Spring WG is not chartered for multicast or BGP modification.
*   **SR Policy Extensions for IFIT (`draft-ietf-idr-bgp-sr-policy-ifit`)**
    *   **Purpose:** Complement `draft-ietf-idr-segment-routing-policy` to distribute IFIT information, enabling data plane telemetry automatically.
    *   **Updates:** Specify application to a controlled domain (RFC8799), improved security considerations.
    *   **Encoding:** IFIT attributes encoded as sub-TLVs at the candidate path level (5 sub-TLVs for in-band OAM, for Alternate Marking).
    *   **Discussion:** No questions raised.
*   **BGP SR Policy Extension for Template (`draft-ietf-idr-bgp-sr-policy-template`)**
    *   **Proposal:** Use templates to group features (e.g., primary/backup, BFD intervals, statistics) for SR policy candidate paths, identified by a `template-id`. Templates are configured locally on head-end routers, and the controller distributes policies with the `template-id`.
    *   **Benefits:** Features meaningful only to controller/head-end, avoid frequent BGP protocol changes, simplify configuration and improve maintainability.
    *   **Discussion:** Strong concerns raised:
        *   **Srihari:** How are template IDs coordinated globally? Potential for conflicts.
        *   **Andrew:** Reflection scenarios would require global synchronization of templates, otherwise reflection breaks.
        *   **AC & Shraddha:** Policy already has abstraction; templates and management platforms are used for this. No perceived advantage of pushing this into the protocol; seen as a "bad idea" due to complexity and potential for issues.
*   **BGP Extensions for SR-MPLS Entropy Label Position (`draft-ietf-idr-bgp-sr-el-position`)**
    *   **Problem:** Determining optimal entropy label (ELI/ELO) position in SR-MPLS networks (RFC8662), especially in inter-domain scenarios, is complex. Centralized controller computation is beneficial.
    *   **Proposal:** BGP extensions to indicate entropy label position in the segment list when distributing SR policy candidate paths. An `I` flag in the segment-list sub-TLV indicates presence of ELI/ELO pairs.
    *   **Updates:** Clarified controller's role in computing paths and label placement, follows RFC8662 considerations, ingress node calculates label values.
    *   **Discussion:** No questions raised.
*   **BGP Extensions for SR Policy for Path Protection (`draft-ietf-idr-bgp-sr-protection`)**
    *   **Problem:** Need for flexible segment list protection beyond full candidate path invalidation, allowing protection for individual segment lists within a candidate path (e.g., load balancing with backup for one leg). Existing PCE work for backup segment lists.
    *   **Proposal:** BGP extensions for SR policy to provide path protection using segment lists. A `B` flag in segment-list sub-TLV indicates a backup path. `Identifier` sub-TLV with `Protection` TLV carries protection relationships. Also proposes `S` (admin shut) and `B` (backup) flags in BGP-LS.
    *   **Discussion:**
        *   **Ketan:** The proposal changes SR policy architecture semantics from load-balancing (ECMP) to active/backup. Suggested this should first be reviewed and updated in the Spring WG.
*   **Point-to-Multipoint (P2MP) Policy (`draft-ietf-idr-p2mp-sr-policy`)**
    *   **Overview:** Part of a suite of drafts (replication segment, P2MP policy, MPBGP/EVPN/SR P2MP, YANG, PCE, PING). Uses candidate paths, path instances for global optimization, replication SIDs for replication points.
    *   **Changes:** Single NLRI with three route types: P2MP Policy (for candidate paths), Binding SID (ingress label for replication segments), OIF Route Type (individual outgoing interfaces). This mimics unicast SR policy for uniform handling.
    *   **Discussion:**
        *   **Jeffrey Jung:** Noted other BGP-based methods for P2MP SR policy setup are not listed.
*   **BGP for BIER TE Paths (`draft-wang-idr-bier-te-path`)**
    *   **Proposal:** Extend BGP to distribute BIER TE paths to ingress nodes. Two options:
        1.  Define new tunnel type for BIER TE under PMSI Tunnel Attribute (type 22). Includes Path ID (subdomain, BFR ID, tunnel ID, path number) and explicit path TLV.
        2.  Define new type under Tunnel Encapsulation Attribute. Includes Path ID, explicit path TLV, and path name TLV.
    *   **Discussion:**
        *   **Jeffrey Jung:** Asked for clarification on which option to pursue and the use case/working group.
        *   **Sue Hares:** Emphasized focusing on technical questions. Documents modifying tunnel encapsulation or multicast functionality likely require review/approval by both BESS and IDR.
*   **Cross-Working Group Coordination (General Discussion)**
    *   **Problem:** Ongoing issue with overlapping work (e.g., multicast, P2MP, SR policy) across BESS, IDR, Spring, PCE, PIM, Beer. Lack of a consistent, effective coordination mechanism.
    *   **Alvaro Retana (AD):** Acknowledged the growing problem and the lack of a "silver bullet." Suggested ideas like wikis and review teams, but noted the challenge of ensuring all authors/participants are aware. Emphasized the need for robust review across multiple groups if multiple solutions are pursued. Requested ideas from participants on how to improve coordination.
    *   **Haomian Zheng:** Shared current practice of updating all WGs with a common slide on technology status, with PIM taking the lead on multicast tech, and other WGs handling policy downloads.
    *   **Jeff Tantsura:** Noted no current IETF process governs such large-scale coordination. Suggested establishing a group of interested parties and a common place to document progress (wikis).
*   **BGP-LS Extensions for ISIS Flood Reflectors (`draft-ietf-idr-bgpls-isis-fr`)**
    *   **Problem:** Flat single-area IGPs (like ISIS Level 2) have scaling pitfalls (flooding, state, convergence).
    *   **Solution:** ISIS Flood Reflection (based on existing LSR WG work) splits Level 2 into multiple flooding domains by using flood reflectors and clients, leveraging Level 1 for transit. This reduces adjacencies, LSDB size, flooding, and SPF computations.
    *   **Proposal:** Requesting BGP-LS TLVs for node, link, and prefix attributes to convey flood reflection topology information to controllers.
    *   **Discussion:** Confirmed that separate BGP-LS documents for LSR features are acceptable and non-controversial. No questions raised.
*   **Extensions for Link Bandwidth Extended Communities (`draft-li-idr-bandwidth-ec-extension`)**
    *   **Problem:** Current BGP Link Bandwidth Extended Community uses floating-point encoding (RFC5575), leading to precision loss and interoperability issues (e.g., 65566 kbps converted to 65560 kbps).
    *   **Proposal:** Use standard units (e.g., bps, Kbps, Mbps, Gbps) and unsigned integers to accurately represent bandwidth values.
    *   **Discussion:**
        *   **AC & Jeff:** Acknowledged issues with floating-point (low precision, comparison difficulties, naive implementations using decimal).
        *   **Challenges:** Changing existing, widely deployed mechanisms is difficult. Proposed new units might lead to complexity, ambiguity (powers of 10 vs. 2), and overlapping semantics for generic community code.
        *   **AC:** Suggested a single 64-bit bits-per-second unit across all routing area protocols if a "flag day" change were possible, to avoid unit conversions.
        *   **Andre:** Highlighted issues from BESS WG where normalization to a single unit (e.g., Mbps) was considered to avoid problematic overlaps.
        *   **Conclusion:** Good conversation starter; the issue of link bandwidth encoding is recurring across WGs.

## Decisions and Action Items

*   **BGP YANG Module:** Authors to push for functional completion by year-end; Working Group Chairs will seek impartial reviewers.
*   **BGP Multicast Work:** BESS and IDR chairs (with ADs) to continue coordination discussions for cross-WG review and adoption.
*   **SR Policy for Path Protection:** Ketan to initiate discussion on the Spring mailing list regarding SR policy architecture semantics change.
*   **Cross-Working Group Coordination (General):** ADs and Chairs to collaborate on finding better coordination mechanisms, potentially involving a wiki on the IDR site. Participants encouraged to provide ideas to ADs/Chairs.
*   **BGP for BIER TE Paths:** Authors to engage in mailing list discussion to select between the two proposed options.

## Next Steps

*   **Flowspec v2:** Complete first revision of the document and resume discussion on the mailing list.
*   **Autoconfiguration:** Begin protocol selection discussion; additional interims may be scheduled.
*   **Interim Meetings:** Coordinate with document authors for acceptable dates for planned interims on BCT/CAR, Flowspec v2, and Autoconfiguration in late November/December.
*   **BGP SR Policy Extension for Template:** Continue discussion on the mailing list given the significant concerns raised.
*   **P2MP Policy:** Continue to track and seek adoption.
*   **BGP-LS Extensions for ISIS Flood Reflectors:** Seek working group adoption.
*   **Link Bandwidth Extended Communities:** Continue discussion on the mailing list to refine the proposal and address concerns regarding existing standards, units, and interoperability.
*   **Next Scheduled Session:** Tomorrow (Tuesday) for the third session of the day.