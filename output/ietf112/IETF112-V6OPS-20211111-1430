# v6ops

## Summary

The v6ops working group met to discuss three drafts. The `draft-ietf-v6ops-transition-pros-cons` was declared ready for a Working Group Last Call (WG LC) after modifications. A new individual draft, `draft-gabor-v6ops-ipv6-scalability`, presenting initial scalability measurements for stateful NAT44, was introduced for feedback. Finally, `draft-zhao-v6ops-nd-deployment`, a deployment guideline for IPv6 Neighbor Discovery (ND), was presented, generating significant discussion on L2/L3 isolation, router enhancements, and the applicability of specific technologies like Wi-SUN (Wing). A joint session with 6man on the IPv6 Hop-by-Hop extension header was announced for the following day.

## Key Discussion Points

### 1. `draft-ietf-v6ops-transition-pros-cons`: Pros and Cons of IPv6 Transition and Technologies

*   **Presenter**: Gabor Szigeti
*   The draft is deemed ready for Working Group Last Call.
*   Two main changes were made:
    *   Section 4.2, discussing the security of stateful technologies, was removed. Its content has been spun off into a new individual draft: `draft-gabor-v6ops-ipv6-scalability-service`.
    *   The reference to benchmarking (in section 5) was removed, with a placeholder draft for benchmarking all IPv6-as-a-Service technologies planned.
*   The authors requested the WG Last Call to proceed with publication.
*   **Decision**: The Working Group Chairs will initiate a Working Group Last Call for `draft-ietf-v6ops-transition-pros-cons` next week.

### 2. `draft-gabor-v6ops-ipv6-scalability-service`: Scalability of IPv6 Transition Technologies for IPv6-as-a-Service

*   **Presenter**: Gabor Szigeti
*   This is a new individual draft intended to serve as a sample for measurements and results of IPv6 transition technologies.
*   Currently contains initial scalability results for stateful NAT44 (specifically `iptables`).
*   **Measurements conducted**:
    *   **Scalability against CPU cores**: Tested with 1, 2, 4, 8, and 16 CPU cores.
        *   Measured maximum connection establishment rate and throughput using bi-directional traffic (per RFC 8219).
        *   Results show performance scales up, but not linearly (e.g., ~10x performance with 16 cores compared to 1 core, relative scale-up factor decreases from 0.83 to 0.66).
    *   **Scalability against concurrent sessions**: Tested by increasing the number of source/destination port combinations.
        *   Hash table size was proportionally increased where possible.
        *   Results indicate stable connection/throughput performance across a wide range of concurrent sessions, but stateful operation consumes significant memory (e.g., 150GB for 400M connections). Performance degrades when approaching system limits (e.g., memory exhaustion, hash table size limits).
*   **Questions to the Working Group**:
    *   Are these types of results useful and sufficient for network operators?
    *   Is this measurement methodology appropriate for future stateful NAT64 scalability measurements?
    *   Should specific implementations like Jool be tested?
*   No specific feedback or decisions were made during this slot; feedback was solicited.

### 3. `draft-zhao-v6ops-nd-deployment`: IPv6 ND Deployment Guidelines

*   **Presenter**: Zhao Li
*   **Title clarification**: This draft is a deployment guideline, not a proposal for new solutions. It advocates Layer 2 (L2) and Layer 3 (L3) isolation only in suitable cases.
*   **Motivation**: To consolidate distributed information on ND issues and solutions (found across many RFCs) into a single document for operators. Also, to provide guidance on *how to avoid* ND issues, rather than just solving them.
*   **Key aspects of the draft**:
    *   Summarizes existing ND issues and analyzes current solutions.
    *   Distinguishes between L2 isolation (e.g., point-to-point links) and unique prefix per host (UPP H, often considered L3 isolation), noting that these are often conflated but are distinct concepts. An example from RFC 7668 was used to illustrate this.
    *   Analyzes the pros and cons of both L2 isolation and UPP H, and their applicability.
    *   Incorporates insights from historical debates, particularly around RFC 8273 (UPP H), which are otherwise hard to access.
*   **Discussion and Feedback**:
    *   **Dave Thaler**: Suggested referencing RFC 4903 (Multi-Link Subnet Issues) as an additional relevant resource that discusses issues around multi-link subnets.
    *   **Nalini**: Expressed appreciation for the work, noting it addresses a significant area of confusion and problems for enterprises deploying IPv6. Offered to provide feedback from large-scale implementations.
    *   **Jan Zorz**: Raised questions about L2 isolation:
        *   How does L2 isolation (e.g., private VLANs) prevent ND cache poisoning on a router if hosts can still send traffic to the router?
        *   Expressed concern about scalability if many interfaces are needed on a router for each L2-isolated host.
        *   Questioned whether existing routing/switching environments support creating interfaces per host and whether router enhancements are standardized or merely vendor-specific.
        *   The presenter acknowledged that L2 isolation alone doesn't solve all problems and router enhancements are often needed.
    *   **Eric Vyncke**: Raised concerns about the inclusion and clarity of references to "Wi-SUN" (Wing) and 6lo-specific stateful registration mechanisms. He cautioned that operators might mistakenly assume these are general-purpose solutions for enterprise wireless (e.g., 802.11) when they are currently 6lo-specific and not widely implemented by general hosts.
    *   **Pascal**: Noted that the registration mechanism used by Wi-SUN/6lo is being extended to other technologies like EVPN, suggesting its potential broader utility.
*   **Action Item**: The chairs suggested that Zhao, Eric, and Pascal collaborate offline to discuss the inclusion, clarification, and appropriate context for Wi-SUN (Wing) related content in the draft.

## Decisions and Action Items

*   **Decision**: A Working Group Last Call will be initiated next week for `draft-ietf-v6ops-transition-pros-cons`.
*   **Action Item**: Gabor Szigeti to prepare for the Working Group Last Call of `draft-ietf-v6ops-transition-pros-cons`.
*   **Action Item**: Zhao Li to consider adding RFC 4903 to the references of `draft-zhao-v6ops-nd-deployment`.
*   **Action Item**: Zhao Li, Eric Vyncke, and Pascal Thubert to discuss offline the appropriate inclusion, context, and clarification for Wi-SUN (Wing) related content in `draft-zhao-v6ops-nd-deployment`.

## Next Steps

*   A joint session with the 6man working group will be held tomorrow to discuss the future of the IPv6 Hop-by-Hop extension header, addressing its current issues as a potential DoS vector and exploring new use cases.
*   Continue discussions and provide feedback on the `draft-gabor-v6ops-ipv6-scalability-service` and `draft-zhao-v6ops-nd-deployment` on the v6ops mailing list.