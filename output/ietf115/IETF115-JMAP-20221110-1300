# jmap

## Summary

This jmap working group meeting covered updates on several drafts in last call or submitted to the IESG, as well as discussions on various jmap drafts concerning calendars, contacts, quotas, sharing, tasks, and extensions for sender and S/MIME. The extra working group covered partial IMAP and message limits and other extensions. Decisions were made regarding changes to the Save action registry, the approach to message limits, and the adoption of a new draft for IMAP metadata in lists.

## Key Discussion Points

*   **Blob and Sieve Action Registry:** Brief updates on the status of these drafts, with minor editorial comments to be addressed.
*   **Save Action Registry:** Discussion around deactivating scripts, specifically whether to use an empty string or null, or to add a separate property. The group decided to add a separate property to explicitly disable a script. A request for a mechanism to identify the underlying system owning the server software was deferred to the mailing list.
*   **JMAP Calendars:** Updates included the addition of `scheduleId` to JS calendar participants, the `isOrigin` property, and the removal of the `Sherry's actors` property.  There was debate on whether `role` should be inlined or exist in separate calendar preferences.
*   **JMAP Sharing:** The update focused on adding the `accounts` property to the `principal` object.
*   **JMAP Quotas:** Demonstration of an implementation and discussion on identities. There was a proposal to add a "sort" field for identities, which led to discussion around using "default" flag and defaults for different situations and which contexts they applied to.
*   **JMAP Tasks:**  Discussion about adding support for checklists. Two proposals were presented: one using nested tasks and checklists, and another using a simple list of tasks. Questions raised included multiple checklists in the client and the full complexities for multiple signees.
*   **Migration Data Portability:** The motivation and central profile was discussed for rapid development and a jmap debug for logging alongside jmap responses.
*   **Message Limits:** The discussion centered on whether copy/UID copy should be atomic. The group decided not to break the atomicity requirement, and instead allow the server to return an error if the copy is too large. Proposed solutions checkpointing for copy.
*   **JMAP upgrade Path:** Methods for client to move from IMAP to JMAP. Possible solutions include a dedicated URL, separate command, or reusing IMAP tokens for JMAP, or just the general OAuth method.

## Decisions and Action Items

*   **Save Action Registry:** Ken will add a separate property to explicitly disable a script in the Save action registry draft. Discussion on metadata should go to the mailing list.
*   **JMAP Calendars:** The group will discuss the `role` vs. `preferences` on the mailing list. Neil will fix editorial issues and ensure all section references are valid.
*   **JMAP Sharing:** Neil will fix editorial issues. Jim will perform the working group last call and shepherd.
*   **JMAP Quotas:**  Start a discussion on the Middle Eastern Renee email about identities with a "default" flag approach.
*   **Migration Data Portability:** Jorg will write the draft.
*   **Message Limits:** Copy/UID copy will fail with 'no message limit,' preserving atomicity.  An alternative mechanism (checkpointing) will be investigated separately for copy.
*   **JMAP Upgrade Path:** Will be adopted for work.
*   **Civ Process iMIP:** Ken will start last call.
*   **Returning metadata in list responses:** Call for adoption.

## Next Steps

*   Authors to address action items as noted above.
*   Discussions to continue on the mailing lists for certain topics (Save Action Registry metadata, JMAP Calendar roles vs. preferences, JMAP identities and defaults).
*   Implementation and testing of various drafts, including message limits.
