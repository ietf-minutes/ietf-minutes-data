# oauth

## Summary

This OAuth working group meeting covered several important topics: embedding tokens in other tokens (Decart), transaction tokens (George), cross-domain identity (Peter), and updates on OAuth for first-party native apps (Aaron).  The discussions centered around use cases, security considerations, potential standardization efforts, and alternative approaches.

## Key Discussion Points

*   **Jot Embedded Tokens (Decart):**
    *   Discussed use cases for embedding tokens, including aggregating claims from multiple issuers and propagating context through a chain of services.
    *   Examined three approaches: (1) allowing custom claims, (2) defining a generic container with a type field, and (3) having a container with a token list.
    *   Addressed security concerns regarding potential misuse of embedded tokens.
    *   Discussed whether a container should be specified and guidance provided, including best practices.
*   **Transaction Tokens (George):**
    *   Presented transaction tokens as a mechanism to create internal authorization tokens tied to a specific transaction, improving security and reducing latency in microservice architectures.
    *   Discussed the structure of transaction tokens, including a subject identifier and authorization context.
    *   Explored potential integration with security event tokens (SETs) and the use of RAR structures to get embedded in the transaction token.
    *   Addressed the need for a protocol element to obtain transaction tokens.
*   **Cross-Domain Identity (Peter):**
    *   Addressed the challenge of maintaining identity and authorization information across multiple trust domains.
    *   Proposed a three-step process involving token exchange and assertion frameworks to facilitate cross-domain identity.
    *   Discussed the need for mapping subject identifiers and handling selective disclosure and down scoping of claims.
    *   Identified open issues, including limiting formats to JWT tokens and transcribing claims.
    *   Whether there should be an additional profile for token exchange.
*   **1st Party Native Apps (Aaron):**
    *   Addressed the tension between secure OAuth practices and the desired user experience in first-party native apps.
    *   Proposed a new "authorization challenge endpoint" to mirror the web-based authorization code flow while allowing proprietary authentication flows.
    *   Discussed the benefits of reusing the token endpoint for token issuance.
    *   Addressed the use of the new endpoint and when to use it over current best practices, as well as when it would be appropriate to breakout to a browser.
    *   Discussed device sessions, and potential alternatives.

## Decisions and Action Items

*   **Jot Embedded Tokens:** The authors will rework the document for approach 1, focus on how to embed tokens, look into the protocol and whether it should be pulled out.
*   **Transaction Tokens:** Explore integration with SET.
*   **1st Party Native Apps:**
    *   The authors will incorporate feedback and continue discussions.
    *   John and Aaron will arrange a call regarding an update for the BCP.

## Next Steps

*   Authors to revise drafts based on meeting feedback.
*   Further discussions on the mailing list regarding specific design choices.
*   Explore outreach options with other relevant working groups.
