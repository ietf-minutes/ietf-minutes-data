# oauth

## Summary

This OAuth working group meeting covered several topics, including updates on the SD-JOT and SD-JOT-VC drafts, a discussion on a pathing construct, and two presentations on one-time confirmation tokens. A key decision was made to rename the SD-JOT-VC media type to "DC+SDJOT" (D for Digital) to avoid potential conflicts with existing registrations. The meeting also highlighted the need to streamline the SD-JOT-VC draft and potentially remove DID support to accelerate its RFC timeline.

## Key Discussion Points

*   **SD-JOT and SD-JOT-VC Updates (Brian Campbell):**
    *   SD-JOT: Discussion of recent working group last calls and feedback received. Some unaddressed comments will be noted in the document shepherd write-up.
    *   SD-JOT-VC: Focus on type metadata, display metadata, and a JSON pathing construct used for identifying claim locations.
    *   Concerns raised about the re-use of the pathing construct in different specifications (SD-JOT-VC, DUCKL) and potential DRY (Don't Repeat Yourself) violations.
    *   Discussion on the potential use of JSON Path or JSON Pointer, but reasons for not using them were explained (complexity, security concerns, and lack of certain features). A suggestion was made to document the rationale for using a custom pathing construct in the draft.
    *   Discussion about the inappropriate use of the well-known URI for Type metadata and that this needs to be addressed
    *   Discussion on removing DID references to speed up standardization
    *   Discussion on registration conflicts and possible approaches on registration conflicts and possible media type registrations

*   **One-Time Confirmation Tokens (Dmitri and Neil):**
    *   Dmitri presented the concept of "confirmation tokens" as credentials required for specific operations (e.g., payments) and outlined the differences between confirmation tokens and access tokens.
    *   Dmitri suggested using a 403 Forbidden response with a "confirmation_required" error code to signal the need for a confirmation token.
    *   Concerns raised about the authorization server becoming like "Big Brother", but the presenter suggested to make an exception for the first party deployments
    *   Neil presented another approach based on macaroons and discharge tokens, in which an initial OAuth 2 flow authorizes the client to initiate transactions. For each transaction, a third-party service issues a discharge token bound to a specific transaction.
    *   Neil proposed that the transaction should contain idempotency keys, in case it needs to be retried

*   **General Discussion:**
    *   Justin Richer suggested that the OAuth WG should consider the differentiation between the initial access token and other "proof of possession".
    *   There was an agreement to write down a document presenting the problem of confirmation tokens to make the problem clear.

## Decisions and Action Items

*   **Decision:** The SD-JOT-VC media type will be changed to "DC+SDJOT" (D for Digital).
*   **Action Item:** Update the SD-JOT-VC draft to reflect the new media type name.
*   **Action Item:** Document the rationale for not using JSON Path or JSON Pointer for the pathing construct in the SD-JOT-VC draft.
*   **Action Item:** Remove references to DIDs in the SD-JOT-VC draft.
*   **Action Item:** Update the well-known URI for Type metadata in the SD-JOT-VC draft
*   **Action Item:** Ask for provisional registry for media types when making changes
*   **Action Item:** Interested parties need to present and write a document to make the problem of "confirmation tokens" clear.

## Next Steps

*   The SD-JOT-VC draft will be updated based on the meeting's decisions and action items.
*   The working group will continue to discuss the one-time confirmation token concepts.
