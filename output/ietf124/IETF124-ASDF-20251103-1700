# ASDF

## Summary

The ASDF session covered updates and key discussion points for two main drafts: the SDF Protocol Mapping and Nipsy. For the SDF Protocol Mapping, discussions revolved around managing instance-level information (like IP or MAC addresses) in conjunction with class-level protocol maps and streamlining the draft's scope to fast-track its completion. For Nipsy, significant updates included API changes, clarification on terminology ("onboarding," "registrations"), and a decision to broaden its scope beyond strictly "non-IP" devices, requiring a name change. Cross-technology bindings were also discussed as a potential future feature.

## Key Discussion Points

### SDF Protocol Mapping

*   **Draft Status**: The SDF Protocol Mapping draft has been adopted and a 01 version published. Changes included updated CDDL definitions, an added scheme extension for SDS, and a new IANA registration for the `sdf` URI scheme.
*   **Instance vs. Class Level Information**: A core discussion focused on how to represent and link instance-specific information (e.g., an IP address for CoAP, a MAC address for BLE) with class-level protocol maps. Karsten presented examples showing how an `IP address` could be defined as an SDF type at the class level but only be available as instance information, to be referenced by the protocol map.
    *   The challenge is how this context (instance info) finds its way to the protocol map entry.
    *   The concept of `SDF-type-link` (also known as "Core Dynlink" from the CoRE working group) was mentioned as a related mechanism for defining links with semantics.
*   **Draft Scope and Fast-tracking**: A proposal was made to simplify the SDF Protocol Map draft by focusing solely on defining the registry and including only essential initial registrations (specifically BLE and Zigbee) that Nipsy depends on. Other protocol mappings (e.g., Open API) would be removed or handled in separate drafts/examples to expedite the SDF Protocol Map document's completion.
*   **SDF Scheme Extension Placement**: Discussion around whether the CDDL definition for the SDF scheme extension should be in an informative appendix or a normative part of the document, especially if it's meant to be referenced by other specifications. The current suggestion from an editor was for informative, but a counter-argument was made for normative placement.

### Nipsy Updates

*   **Draft 14 Release**: Draft 14 was released, addressing 24 fixed items. 9 items were slated for discussion in this session, and 5 remain work in progress.
*   **API Update: Group Events**: An API update was made to the `groupID events` API to include `deviceID` in each element of the return array. This ensures per-device status is available when querying events for a group.
*   **"Onboarding" Terminology**: The use of "onboarding" terminology in Nipsy was discussed. The decision was to retain it due to its consistent use in SCIM and other related drafts, with the understanding that the Nipsy document will clearly define its meaning and reference the SCIM definition.
*   **"Registration" Terminology**: The "registrations" collection, used for SDF model and data app registrations, was reviewed. It was decided to keep this collection as it logically groups various registrations required for gateway operations.
*   **Example GUIDs**: A request was made to use more distinct GUIDs in examples to improve readability and avoid confusion.
*   **Cross-Technology Bindings**: Michael brought up the interesting concept of Nipsy enabling cross-technology bindings (e.g., a BLE actuator turning on a Zigbee light). This was seen as a valuable idea for future investigation, possibly leveraging mechanisms like `SDF-type-link`/`Core Dynlink`. It was acknowledged that this might be an instance-level binding, not directly part of the class-level SDF model.
*   **Nipsy Naming ("Non-IP Control")**: A significant discussion centered on the current name "Non-IP Control" and whether Nipsy should be restricted to non-IP devices. There was strong consensus that Nipsy should be applicable to both non-IP and IP-based devices (e.g., in mixed environments, for devices transitioning to IP, or where IP connectivity is tunneled).
*   **Implementations Section**: The purpose of the implementations section (for ISG review, not normative) was clarified.
*   **CDDL vs. OpenAPI Definitions**: The redundancy of having both CDDL (data model) and OpenAPI (API + data model) definitions was discussed. The importance of having extension points for various data definition languages was highlighted.
*   **Limited Power Budget**: Briefly mentioned, to be followed up offline.

## Decisions and Action Items

*   **SDF Protocol Map Scope**:
    *   **Decision**: Simplify the SDF Protocol Map draft to define the registry and include BLE and Zigbee as normative initial registrations.
    *   **Action**: Remove other protocol mappings (e.g., Open API) or relegate them to non-normative examples to fast-track draft completion.
*   **SDF Scheme Extension**:
    *   **Action**: Rohit to follow up on the discussion regarding making the SDF scheme extension's CDDL definition normative, potentially moving it from the appendix to the core document.
*   **Nipsy API Update**:
    *   **Decision**: The addition of `deviceID` to the `groupID events` API return value is accepted.
*   **Nipsy Terminology - "Onboarding"**:
    *   **Decision**: Keep "onboarding" terminology, ensuring the document provides a clear definition and references SCIM.
*   **Nipsy Terminology - "Registrations"**:
    *   **Decision**: Keep the "registrations" collection as is.
*   **Nipsy Examples**:
    *   **Action**: Update examples to use more distinct GUIDs (Michael).
*   **Nipsy Naming**:
    *   **Decision**: Change the name of Nipsy (using a retronym) to reflect its broader applicability to both non-IP and IP-based devices.
    *   **Action**: The working group to determine a suitable retronym.
*   **Cross-Technology Bindings**:
    *   **Action**: Investigate cross-technology bindings further, potentially leveraging `SDF-type-link`/`Core Dynlink`. This is likely not for the current revision of the Nipsy draft.

## Next Steps

*   **Nipsy Draft**:
    *   Address all comments and outcomes from the discussions.
    *   Finish remaining work-in-progress items.
    *   Thoroughly proofread the entire document.
    *   Conduct another round of working group reviews.
    *   An interim meeting may be scheduled to follow up on progress.
*   **SDF Protocol Map Draft**:
    *   Continue work on the streamlined draft, incorporating decisions on scope and scheme extension placement.