# BESS

## Summary

The BESS session covered routine administrative updates, a review of various document statuses, and presentations on eight different drafts. Key administrative points included a call for a notetaker and reminders for Meetecho usage. Document status updates spanned newly published RFCs, drafts in IESG review, shepherd review, and candidates for Working Group Last Call (WGLC) and adoption. A significant concern was raised by the chairs regarding the high number of expired working group drafts and the lack of author engagement post-adoption, leading to a discussion about appointing new editors or deprecating stalled documents. Technical presentations included updates on EBGP DMZ, IPv4/v6 PE All SAF interoperability testing, EVPN Multi-Active Multi-Homing, OAM for EVPN over SRv6, Ingress Replication BUM Flag in VXLAN, EVPN Inter-Domain Option B Enhancements, Proxy MAC IP Advertisement, and SRv6 Anycast. A notable outcome was the decision not to pursue the "Layer 3 Access EVPN Service" draft due to a lack of working group consensus.

## Key Discussion Points

### Administrative and Chair Updates

*   **Notetaker:** Trishna volunteered to be the notetaker.
*   **Meetecho Usage:** Attendees reminded to sign into Meetecho (on-site) or use the app (remote) for attendance tracking and joining the queue.
*   **Agenda:** The agenda was not fully packed, allowing time for discussions.

### Document Status Updates

*   **New RFC Published:**
    *   Multicast Source Redundancy in EVPN.
*   **In RFC Editor Queue / IESG Review:**
    *   **EVPN, IPVPN, Interworking:** Jorge is halfway through a 120-page review from Gunter and aims to complete it this week.
    *   **EVPN-E-V-N-I-V-N:** Has several IESG Discusses. One discuss concerns the naming of an "MPLS label" field that can carry MPLS or SRv6 SIDs, potentially requiring updates to a source RFC. Offline discussion planned.
    *   **EVPN Equal Cost Load Balancing:** Discussion closed by Jeff and Niraj; awaiting comments from the AD and IESG.
*   **Under Shepherd Review:**
    *   **VPLS Multi-homing (Draft Kiriti):** An old draft, Kiriti confirmed commitment to address IESG questions/concerns and will conduct another shepherd's review due to the draft's age. The milestone is IESG by December.
    *   **EVPN Geneve:** Progress is stalled due to author Sami's availability. Chairs will discuss, and may appoint a new editor if progress doesn't resume with sustained engagement.
    *   **EVPN BFD:** Progressing well towards conclusion. The main open question is about the port number to avoid confusion with standard BFD sessions if encapsulation breaks. Jeff will audit scenarios and recommend a different port.
*   **Ready for Working Group Last Call (WGLC):**
    *   **BGP Multicast (two drafts):** Pending discussion with Sue, who apologized for a personal outage and will follow up post-IETF.
    *   **EVPN & VPN Seamless Interop:** Authors need to confirm reviewer acceptance of modifications.
*   **Evaluate for WGLC:**
    *   **EVPN AC Aware Bundling:** Jeffrey is still discussing and needs to close issues with co-authors.
    *   **Viperflow DF Election, Extended EVPN Optimized AR:** The draft had expired but has been refreshed and updated. The author (HV) confirmed it is ready for WGLC.
    *   **RFC 7432 bis:** The chair performed an initial shepherd review and is following up on author updates.
*   **Ongoing Call for Adoption:**
    *   **L3MH Proto:** Expected to be adopted by tomorrow, with good support and all IPR declarations received.
    *   **UMR Mobility:** Adoption call closed, but still awaiting IPR replies from a few authors.
*   **Wiki for Adoption Calls:** Chairs acknowledged the Wiki for adoption candidates is not always accurate and encouraged attendees to inquire if a document is not listed.
*   **Consider Soon for Working Group Adoption:**
    *   **MEP Safi:** Previously parked, awaiting DMM architecture document (now adopted). The draft is expired and needs refreshing.
    *   **EVPN First Hop Security**
    *   **EVPN IPMac Proxy** (Presented later in the session).
*   **Expired Working Group Drafts:**
    *   Chairs expressed concern about 16 expired WG drafts and a general trend of documents stalling post-adoption. Authors are urged to respond to comments and drive documents forward.
    *   Chairs will consider appointing new editors for critical, unprogressing WG documents.
    *   Very old, unprogressed WG documents (10+ years) will be evaluated for marking as "dead" after a call for interest from the working group.
*   **Working Group Milestones:**
    *   **VPLS Multi-homing:** Milestone target is IESG by December.
    *   **Yang Models (Device Yang Models):** Previously parked due to lack of interest. With a clearer queue, chairs will check with editors about picking these up again, especially as other WGs (e.g., NBO3) have dependencies.

### Technical Presentations

1.  **EBGP DMZ (Xiaohu Xu, China Mobile)**
    *   **Problem:** Efficient weighted load balancing in data centers using BGP link bandwidth community.
    *   **Solution:** Draft proposes mechanisms for automatically setting BGP link bandwidth from interface bandwidth, tweaking WECMP using a "contributing bandwidth" (e.g., minimum of remote and local bandwidth), and accumulation of bandwidths.
    *   **Key Points:** Document status changed back to "Standards Track." Discussions are ongoing to move the draft to the IDR WG due to its companion relationship with the BGP link bandwidth draft.
    *   **Discussion:** Potential applicability to IPVPN/EVPN was raised, with the presenter noting accumulation is more for hop-by-hop DC fabrics. The IDR chair emphasized the need for co-ownership between IDR and BESS due to the diverse use cases across overlay, underlay, and VPNs.
2.  **IPv4/v6 PE All SAF (Giann Mishra)**
    *   **Problem:** Ensure interoperability for carrying all SAPIs over an IPv6-only BGP peering (RFC 8950 next-hop encode).
    *   **Progress:** Interoperability testing between Nokia and Juniper is complete and successful. Testing with Cisco is ongoing, with plans for Cisco-to-Cisco and joint interop with Juniper/Nokia by year-end, aiming for ENTEC interop.
    *   **Key Points:** The draft details how to use EBGP peering on a V6-only peer to carry all SAPIs (excluding "typed" ones).
    *   **Chairs' Comment:** Proposed restructuring the draft into a standards-track protocol part, an informational test cases part, and moving test results to a wiki.
3.  **EVPN Multi-Active Multi-Homing (Matthew Bocci)**
    *   **Problem:** Current EVPN multi-homing is either all-active or single-active. A hybrid mode is desired where a subset of PEs are active, and others are inactive until a failure.
    *   **Solution:** Introduce preference values signaled in the DF election extended community. Preferred PEs operate all-active (P-bit=1), non-preferred PEs operate single-active (P-bit=0). A small change to the DF election algorithm ensures non-preferred PEs are not elected DF. Distinguishes between "strict" (only most preferred active) and "loose" (multiple preferred active) modes.
    *   **Discussion:** Concerns raised about potential conflicts with existing P-bit behavior in transition states and clarity on use cases (e.g., similarity to flexible LACP). Matthew confirmed follow-up discussion offline.
4.  **OAM for EVPN over SRv6 (Xiao Chu Zhang, China Mobile)**
    *   **Problem:** Lack of an effective OAM mechanism for SRv6-based EVPN networks.
    *   **Solution:** Proposes an OAM mechanism based on RSP, tailored for SRv6 EVPN, with two encapsulation formats (two-layer and one-layer Ethernet header) using MPLS echo request/reply structures. The two-layer format offers double isolation and accurate addressing but with higher overhead and complexity. The one-layer format is more concise and efficient but with limited flexibility and debugging.
    *   **Discussion:** Raised concerns about the starting point of SRv6 OAM (IPv6 OAM vs. MPLS OAM) and if the work should be in 6MAN/SPRING. Also, whether the proposed procedures are already covered by existing ICMPv6 mechanisms. Further discussion on the mailing list was requested.
5.  **Ingress Replication BUM Flag in VXLAN (Jorge Ravada, Nokia)**
    *   **Problem:** In all-active multi-homing, ingress replication of unknown unicast can lead to packet duplication or drops. RFC 8365 recommended a flag, but VXLAN lacked it.
    *   **Solution:** Proposes to request IANA allocation of a "B-bit" (position 6) in the VXLAN flags registry to indicate an ingress replicated BUM frame. This allows non-DF PEs to identify and drop such frames (avoiding duplication) or identify original unicast frames (avoiding drops if MAC aged out).
    *   **Discussion:** Clarification was sought on behavior when MAC learning differs across multi-homed PEs. A minor comment on the draft's wording regarding pre-release routers was noted.
6.  **EVPN Inter-Domain Option B Enhancements (Jorge Ravada, Nokia)**
    *   **Problem:** In EVPN Inter-domain Option B, the next-hop is rewritten, leading to loss of the original Egress PE identifier for the AD per ES route. This causes issues with mass withdraw, aliasing, backup paths, and DF election.
    *   **Solution (v7):** Defines a new "Egress PE Identifier" sub-TLV for the BGP Tunnel Encapsulation attribute (IANA code point requested). This identifier is set by the Egress PE and not modified by border routers, allowing Ingress PEs to correlate routes correctly. The draft is now "Standards Track."
    *   **Next Steps:** Seeking working group adoption.
7.  **Proxy MAC IP Advertisement in EVPN (Weiguo Zhang, Huawei)**
    *   **Problem:** In multi-homing, MAC+IP bindings may be learned by only one PE. Failures can cause a race condition between MAC IP retention and re-learning, leading to traffic blackholing, flooding, or ARP suppression issues.
    *   **Solution:** Multi-homed PEs (not the primary learner) advertise "proxy MAC+IP advertisements" (Type 2 MAC+IP routes with a "proxy bit" set) indicating they didn't learn via data plane. Remote PEs ignore the proxy bit. If the primary learner fails, other multi-homed PEs rapidly re-learn locally (e.g., via ARP/ND). Remote PEs are unaffected as they don't see proxy route withdrawals, avoiding large-scale control plane churn.
    *   **Key Points:** The solution works for both node and egress link failures and supports symmetric IRB. It has been adopted by vendors and deployed in the field.
    *   **Next Steps:** Seeking working group adoption.
    *   **Discussion:** Questions arose about the specific behavior of multi-homed PEs when receiving proxy MACs and potential for loops. The presenter emphasized the draft's benefits for scale by minimizing control plane impact on remote PEs. Further discussion on the mailing list was requested.
8.  **SRv6 Anycast (Hu Jianwei, Huawei)**
    *   **Problem:** Unclear distinction between anycast and unicast SIDs in multi-homed SRv6 VPN scenarios, impacting load balancing and policy efficiency.
    *   **Solution:** Defines "anycast" as a basic end-port behavior, introducing seven anycast end-port behaviors (e.g., END.DT4 with anycast, END.DT6 with anycast). This allows ingress PEs to distinguish anycast from unicast SIDs.
    *   **Next Steps:** Seeking adoption.
    *   **Discussion:** No time for questions during the session; directed to the mailing list.
9.  **Layer 3 Access EVPN Service (Adrian, Huawei)**
    *   **Problem:** Connect customer branches (L3 networks) behind different MANs via an EVPN backbone, ensuring traffic isolation and identifying traffic from different branches within the encapsulation frame (LSI/bundle service). Existing solutions for VLAN-aware bundle services or virtual private wires do not fully meet the requirement, especially for the data plane lacking a "bundle item" identifier.
    *   **Proposal:** Define a new flag field in the VXLAN encapsulation header for an identifier in the reserved field, with corresponding control plane extensions.
    *   **Discussion and Decision:** This draft has been presented multiple times and consistently received strong pushback from numerous working group experts (Cisco, others) who believe the requirements can be met with existing EVPN capabilities or that the proposed solution is impractical/unneeded. The chairs concluded that there is no consensus in the working group and recommended not pursuing the draft further.

## Decisions and Action Items

### Decisions

*   The "Layer 3 Access EVPN Service" draft will not be pursued due to a lack of working group consensus and consistent pushback from experts.

### Action Items

*   **Chairs:**
    *   Discuss the possibility of appointing new editors for critical working group documents that are not progressing (e.g., EVPN Geneve).
    *   Evaluate old, unprogressed working group documents (10+ years) for marking as "dead" after a call for interest from the working group.
    *   Discuss with Giann Mishra (IPv4/v6 PE All SAF) on structuring the draft: protocol as standards track, test cases informational, and test results on a wiki.
*   **Jorge Ravada (EVPN Inter-Domain Option B):** Refine further details for the new "Egress PE Identifier" sub-TLV and actively seek working group adoption.
*   **Weiguo Zhang (Proxy MAC IP Advertisement):** Clarify the handling of proxy MAC advertisements by multi-homed PEs in the draft and continue discussion on the mailing list regarding potential loop scenarios.
*   **Safar and Greg Murski:** Continue discussions on the EVPN over SRv6 OAM draft on the mailing list, specifically regarding its scope and relation to IPv6 OAM and existing mechanisms.
*   **Hu Jianwei (SRv6 Anycast):** Address questions and feedback on the mailing list.
*   **Kiriti (VPLS Multi-homing):** Follow up on the draft's progress, including conducting another shepherd's review to prepare for IESG.
*   **Jeff (EVPN BFD):** Audit the port number scenario and provide a recommendation, likely for a different port.
*   **Sue:** Follow up on the pending discussions for the BGP Multicast drafts.
*   **Keith Vital Arcus:** Refresh the MEP Safi draft, which is currently expired, to enable progress towards adoption.
*   **Jorge Ravada (EBGP DMZ):** Will present the updated draft in the IDR session.

## Next Steps

*   Authors of drafts in shepherd review are to continue working with their shepherds and respond to comments.
*   Working group members are encouraged to provide feedback on all presented drafts, especially on the EBGP DMZ (standard track proposal, move to IDR), EVPN Multi-Active Multi-Homing (backward compatibility), Ingress Replication BUM Flag in VXLAN (IANA allocation), EVPN Inter-Domain Option B (adoption call), Proxy MAC IP Advertisement (adoption call), and SRv6 Anycast (adoption call).
*   Chairs will continue to monitor the progress of documents and facilitate working group last calls and adoption calls as drafts become ready.