# DTN Session

## Summary

The DTN session at IETF 124 featured a packed agenda covering significant advancements and proposals across several key areas of Delay-Tolerant Networking. Discussions included a detailed presentation on BPV7 Custody Transfer and Compressed Status Reporting, the final iteration of DTN Reference Scenarios for simulation and validation, a new draft proposing a reliability framework for DTN, and an updated proposal for a Quality of Service Extension Block. Additionally, a new scheme for DTN Anycast was presented, and updates were provided on the COSE Contact and EID Patterns drafts, as well as a simplified DTN Ethernet draft. The chairs highlighted the volume of ongoing work and the intent to schedule topic-focused interim meetings to facilitate further discussion.

## Key Discussion Points

*   **Administrative and General Announcements:**
    *   Collaborative minute-taking was encouraged.
    *   The DTN mailing list remains the primary forum for technical discussions.
    *   Undiscussed working group documents (BTPU, FEC, DTMA) were noted, and participants were encouraged to review updates.
    *   Errata on existing DTN working group items will be discussed on the mailing list.
    *   Due to the extensive agenda, the chairs announced their intent to request interim working group sessions.

*   **BPV7 Custody Transfer and Compressed Status Reporting (Felix Wobbe):**
    *   **Motivation:** To achieve efficient bundle status reporting (deletion, delivery) and opportunistic custody transfer in small, tightly managed networks (e.g., Earth observation, LunarNet).
    *   **Bundle Sequence Identification:** A mechanism for compressed reference to sets of bundles using an administrative endpoint ID, a bundle sequence ID, and sequence numbers. Bundle sequence ID 0 is reserved for destination-based reporting.
    *   **Custody Transfer Mechanism:** Utilizes a Custody Transfer Extension Block (CTAB) for requests and a Compressed Custody Signal (administrative record) for responses. The decision to accept or refuse custody is mission/network-specific.
    *   **Compressed Bundle Reporting (CBR):** Enables requesting and generating compressed status reports, supporting various reporting types and end-to-end services like in-sequence delivery and reliability.
    *   **Fragmentation Policy:** Bundles containing CTAB or CBR blocks should not be fragmented, and these blocks should not be added to fragments.
    *   **Implementation:** Prototyped in dtn.eisen and validated in lunar communication scenarios.
    *   **Feedback:** Chairs welcomed the work and the proposal to split it into three IETF drafts, anticipating valuable peer review. A question about the re-forwarding logic for unaccepted custody was clarified to apply to the custodian, with policy options for the original sender.

*   **DTN Reference Scenarios (Camillo Malnati):**
    *   **Purpose:** To provide a common, modular, and extendable basis for demonstrating and validating DTN protocols and extensions through simulation.
    *   **Scenarios:** Three main scenarios were presented: Low Earth Orbit (LEO), Lunar Communication, and Mars Communication, each with increasing complexity, delays, and link sparsity.
    *   **Scenario Files:** Each scenario is defined by six file types: a description file, a node file, a planned contact file, an actual contact file (with an error model applied), a traffic file, and a policy file. These are intended for users, simulators, and DTN node configurations.
    *   **Distribution:** The definitions will be published as a CCSDS Yellow Book, with the data files made available in a public GitHub repository. Companion configurations for the ESA bundle protocol implementation will also be provided.
    *   **Feedback:** Chairs recognized the work as incredibly useful for the community and encouraged discussion on the DTN mailing list, particularly given its utility for Bundle Protocol implementations.

*   **DTN Reliability Draft (Sabrina Pellegrini):**
    *   **Motivation:** To address the historical complexities of standardizing custody transfer by reframing reliability as a service. Many missions require custodial behaviors to achieve reliability.
    *   **User Desired Behaviors:** The draft outlines behaviors like keeping storage available, delegation of network monitoring, extending platform life, and policy-based traffic engineering.
    *   **Architectural View:** Reliability can be achieved at different network layers (Application, Bundle, Adaptation, Underlay), with custody transfer being a bundle-layer mechanism.
    *   **Proposed Reliability Classes (Bundle Layer Example):**
        *   **Class 0 (No Reliability):** Prohibits store-and-forward.
        *   **Class 1 (Best Effort Retention):** Standard store-and-forward.
        *   **Class 2 (Guaranteed Node Custodian):** Ensures one designated custodian, with various deployment models.
        *   **Class 3 (Redundant Custodian):** Guarantees multiple simultaneous custodians for redundancy.
    *   **Feedback:** The draft was warmly received by chairs and participants (including Felix from ESA) for providing a coherent framework for a complex topic, with potential for integration with QoS signaling. A suggestion was made to reconsider the term "class" to avoid overloading.

*   **Quality of Service and Traffic Shaping (Teresa Garcia):**
    *   **Motivation:** To manage congestion and diverse traffic in DTN environments, which are expected to experience bottlenecks.
    *   **User Quality of Service Extension Block (UQEB):** A proposed extension block allowing users to specify QoS parameters that remain with the bundle and cannot be overridden.
    *   **UQEB Keys:**
        *   **Traffic Prioritization:** Defines forwarding order using `Expected`, `Normal`, and `Bulk` priority classes, with volume-based fair scheduling for internal queues to prevent data starvation.
        *   **Retransmission:** Indicates if bundles should be retransmitted (`Timely` for no retransmission, `Complete` for retransmission).
        *   **Latest Only Delivery:** A flag to discard older bundles with the same source-destination pair, prioritizing the newest information.
        *   **Bundle Retention:** Determines deletion order when storage is full, protecting higher-priority bundles.
    *   **Feedback:** Discussion included historical challenges with QoS implementations in IP, a clarification of "latest" in `Latest Only Delivery` (applies to source-destination pair), and concerns about the potential complexity of many fields for interoperability. The distinction between user-requested QoS (UQEB) and network-internal QoS was emphasized.

*   **DTN Anycast (Danilo Cavallini):**
    *   **Problem:** Current BP schemes (IPN, DTN) only support point-to-point communication.
    *   **Aim:** To provide an IP Anycast counterpart for DTN, allowing bundles to be delivered to a single member of a DTN Anycast group.
    *   **Use Cases:** Content Delivery Networks, key distribution for BPSEC, DTN routing systems, and specific ESA scenarios.
    *   **Scheme Structure:** Based on IPN, uses `Allocator Identifier`, `Group Number` (for node registration), and `Service Number` (for specific services). Predefined group numbers include `0` for new AC endpoints and `1` for "any next stop."
    *   **Feedback:** The concept was well-received. Questions arose regarding the distinction between Anycast and unicast addresses (unlike IP) and the need for more detailed definitions of application registration mechanisms. Concerns were noted about potential overlap with multicast functionality (e.g., IGMP).

*   **COSE Contact, EID Patterns, UDPCL, BPSand Updates (Brian Sipos):**
    *   **COSE Contact:** Revised based on WG last call, improving terminology, security considerations, and algorithm tables (pre-empting future COSE RFCs). A key open issue is reducing the number of *required* algorithms in Table 5 to align with CNSA minimum security strengths, focusing on interoperability.
    *   **EID Patterns Draft:** Considered mature, with plans to remove non-matured certificate-related content to prepare for progression.
    *   **UDPCL (User Datagram Protocol Convergence Layer):** Remains stable. Clarified that UDPCL and BTPU serve distinct use cases (UDPCL for IP, BTPU for space frames), making message compatibility unnecessary overhead. An existing trial implementation was noted.
    *   **BPSand:** Not discussed due to time constraints.

*   **DTN Ethernet Draft (Eric Klein):**
    *   **Motivation:** To enable direct bundle transfer over Ethernet or Ethernet-like links, particularly in scenarios without IP configuration.
    *   **Content:** The draft was simplified (from a full Ethernet CL) after BTPU provided necessary segmentation and multiplexing. It now primarily requests an Ethertype allocation for BTPU, with relevant security and operational considerations.
    *   **Feedback:** Supported by chairs and participants as a necessary document to demonstrate BTPU's operation over physical links.

## Decisions and Action Items

*   **Chairs Action Item:** The working group chairs will likely request interim working group sessions to allow for more focused and in-depth discussions on specific topics/drafts.
*   **Felix Wobbe Action Item:** To prepare and submit three distinct IETF drafts based on the CCSDS Orange Book work: one for Bundle Sequence Identification, one for BPV7 Custody Signaling, and one for Compressed Bundle Status Reporting.
*   **Camillo Malnati Action Item:** To make the DTN Reference Scenario files available in a public GitHub repository, in conjunction with the CCSDS Yellow Book publication.
*   **Teresa Garcia Action Item:** To submit the IETF draft for the Quality of Service Extension Block.
*   **Danilo Cavallini Action Item:** To seek working group adoption for the DTN Anycast internet draft on the mailing list and further define application registration mechanisms in future revisions.
*   **Brian Sipos Action Item:** To proceed with revisions for the COSE Contact draft, particularly simplifying the required algorithms table.
*   **Brian Sipos Action Item:** To remove the COES C-509 certificate content from the EID Patterns draft to facilitate its progression.
*   **Eric Klein Action Item:** To request working group adoption for the DTN Ethernet Draft on the mailing list.

## Next Steps

*   **Working Group Participants:**
    *   Review the errata for existing DTN working group items and engage in discussions on the mailing list.
    *   Review the forthcoming IETF drafts for DTN Reliability, Quality of Service Extension Block, BPV7 Custody Transfer, Compressed Status Reporting, Bundle Sequence Identification, DTN Anycast, and DTN Ethernet.
    *   Participate in mailing list discussions on all newly presented and updated drafts, providing technical feedback.
    *   Engage with the DTN Reference Scenarios, particularly those available on GitHub, and discuss their utility on the mailing list.
*   **Chairs:**
    *   Will propose specific topic-focused interim meetings (e.g., DNS, DTNMA, flow control, traffic shaping) on the DTN mailing list.
    *   Will facilitate discussions for working group adoption requests for the DTN Anycast and DTN Ethernet drafts.
    *   Will monitor the progress and maturity of the CoAP over Bundle Protocol, COSE Contact, and EID Patterns drafts towards working group last calls.