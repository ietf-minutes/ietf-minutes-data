# HTTPAPI

## Summary
The HTTPAPI session covered the status of several drafts, with Link Hints and Byte Range Patch preparing for Working Group Last Call (WGLC). Updates were provided for Problem Types (in WGLC), HTTP Privacy (WGLC completed), REST API Media Type (WGLC completed), and Idempotency-Key (pending significant discussion). A key technical discussion centered on the `Rate-Limit` headers, specifically the use of Structured Fields. Rahul presented the HTTP Events Query document, which sparked a detailed discussion on its benefits, scope, and interaction with existing HTTP mechanisms. The status of JSON Structure and JSON Schema work, including coordination with ECMA, was also discussed.

## Key Discussion Points

*   **Link Hints:** The document is considered ready for Working Group Last Call (WGLC) following one more editorial pass. The chair suggested queuing the WGLC after other ongoing WGLCs. Feedback is encouraged on any core HTTP hints that might have been missed.
*   **Byte Range Patch:** This document defines media types for performing writes at specific offsets (supporting message and binary variations). The scope has been narrowed to media type registration and one related HTTP preference. It is approaching WGLC, pending resolution of open issues concerning the registration of other established media types (e.g., for opaque byte documents) and further implementation feedback.
*   **Brief Document Updates:**
    *   **Problem Types:** Currently in WGLC, which is set to conclude on November 10th.
    *   **HTTP Privacy:** Completed WGLC. An editorial update was noted, and a shepherd document is now required from the chair.
    *   **REST API Media Type:** Completed WGLC. A recent version includes clarification on the version parameter within the media type, referencing the OpenAPI specification. A shepherd document is required from the chair.
    *   **Idempotency-Key:** The document is not yet ready for WGLC. Significant open issues remain, particularly concerning how existing idempotency implementations handle caching of responses. Further discussion is needed to resolve these. There is strong interest in standardizing this.
    *   **Authentication Link:** This document has expired due to a lack of author enthusiasm. The chairs indicated they would reconsider reviving it if deep community interest is expressed.
*   **Rate Limit Headers:** An HTTP Directorate review has been requested for this document. A recent update clarified the meaning of the `reset` parameter for sliding window algorithms, changing the text to indicate when "additional quota is made available" rather than implying a full quota reset. A discussion occurred regarding the use of `SF string` versus `SF token` for policy names. While `SF string` requires quoting, it offers greater flexibility (e.g., allowing spaces). `SF token` is more concise but has stricter constraints (e.g., cannot start with a number). The general sentiment favored retaining `SF string` for its flexibility and reduced hassle, despite the additional quotes.
*   **HTTP Events Query:** Rahul presented a draft proposing a minimal addition to HTTP/2, leveraging query parameters for event notifications. It includes an `Events` header and defines semantics for long polling and streaming. The design aims to enable notifications on any existing resource, operate within HTTP, ensure reliable and ordered delivery, support content negotiation, and provide scalability. The latest draft includes a comparison with Server-Sent Events (SSE) and an example of content negotiation. Austin raised questions about the document's benefits for intermediaries and CDNs, its interaction with incremental HTTP and caching, and its relationship to other HTTP problems like indefinite-length responses. Rahul clarified that `incremental` HTTP headers could prevent buffering and that intermediaries could potentially cache and serve multiple clients. He also distinguished the query approach from using range requests on a journal-style resource, arguing the query allows broader relation to the resource.
*   **JSON Structure / JSON Schema:** It was reaffirmed that the HTTPAPI Working Group is not the appropriate venue for JSON Structure work. There is renewed enthusiasm to move JSON Schema to a final release. Efforts to coordinate with ECMA regarding their potential work on JSON Schema are ongoing, but a status update from ECMA is pending. Inactivity on the JSON Structure mailing list suggests a lack of current energy for that specific document.

## Decisions and Action Items

*   **Link Hints:** Mark will perform a final editorial pass, after which the document will be put into Working Group Last Call (WGLC), possibly queued after other current WGLCs.
*   **HTTP Privacy & REST API Media Type:** The chair will prepare and submit the shepherd documents for these drafts.
*   **HTTP Events Query:** The discussion regarding the value proposition, key drivers, and specific problems solved by this document will continue on the mailing list to achieve clearer understanding before considering working group adoption.

## Next Steps

*   **Link Hints:** Proceed with Working Group Last Call after the final editorial review.
*   **Byte Range Patch:** Address open issues and gather further implementation feedback before moving to Working Group Last Call.
*   **Problem Types:** Members are encouraged to provide any last-minute feedback as its Working Group Last Call period ends soon (November 10th).
*   **Idempotency-Key:** Focus on further discussion to resolve existing open issues, particularly concerning caching semantics, to enable progress.
*   **Rate Limit Headers:** Await feedback from the HTTP Directorate review.
*   **HTTP Events Query:** Actively continue the discussion on the mailing list to clarify the document's scope and benefits.
*   **JSON Structure / JSON Schema:** Continue coordination with ECMA and monitor interest in the JSON Structure document.
*   **General:** All participants are encouraged to provide feedback on drafts via the mailing list and GitHub to facilitate the timely closing of pending documents.