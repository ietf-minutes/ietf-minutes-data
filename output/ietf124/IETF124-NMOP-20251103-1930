# NMOP

## Summary
The NMOP session focused on reviewing the status of several working group and individual drafts, presenting hackathon results, and discussing new proposals. Key updates included refinements to the Yang Push to Message Broker integration, the Telemetry Message draft, and the Yang Data Model for Network Incident Management. The C-MAP concept document was declared ready for Working Group Last Call. Discussions also covered new drafts on AI-based network management agents, distributed authorization policy sharing, generalized capability principles, and a graph-based meta-schema, with an emphasis on gathering feedback and coordinating AI-related efforts across the IETF.

## Key Discussion Points

*   **Administrivia and Logistics**
    *   Chairs (Rashad and Benoit) welcomed participants and covered the Note Well.
    *   Thomas volunteered as notetaker. Collective effort encouraged for meeting minutes.
    *   Attendees were reminded to sign into Datatracker and use the mic queue.
    *   Hackathon results for Yang Push to Message Broker Integration were integrated into Session 1 due to their relation to presented drafts.
    *   The importance of working group members reviewing documents was highlighted, especially for documents nearing Working Group Last Call.

*   **NMOP Working Group Status**
    *   **Milestones:** The C-MAP concept is targeted for WG Last Call after this IETF. The Message Broker Integration to IESG is aimed for September 2025.
    *   **Document Updates:** Authors of the Anomaly Detection draft confirmed updates are coming mid-November.
    *   **Interim Meetings:** No interim meetings were held; members were encouraged to request them if needed for document finalization.
    *   **Knowledge Graph Design Team:** An update on IETF's role in knowledge graphs is expected on Wednesday.
    *   **Document Reviews:** A strong call was made for broader working group review of documents, especially those approaching Working Group Last Call, to ensure quality and timely progress.

*   **Yang Push to Message Broker Integration (Draft-ietf-nmop-yang-push-to-message-broker-integration)**
    *   **Updates:** Addressed Paul Edkin's review comments.
        *   Added references to research papers for Yang and Data Mesh industry adoption claims.
        *   Added description of "stream catalog" to terminology and overview diagram.
        *   Updated hostname type-def information to inherit changes from RFC 6991bis.
        *   Proposed referencing Apache Pulsar instead of RabbitMQ due to Pulsar's support for partitioning, topics, message keying, and topic compaction, aligning better with Apache Kafka.
    *   **Next Steps for Draft:**
        *   Suggest an early Ops Directorate review.
        *   The document is considered stable; intent is for WG Last Call after the `notification-version` document completes its WG Last Call in NetConf (requested today).

*   **Telemetry Message (Draft-ietf-nmop-telemetry-message)**
    *   **Updates:**
        *   Incorporated changes from Yang Semantic Versioning (e.g., `revision-label` to `version`, `model-name` to `name`).
        *   Addressed Martin's review comments: changed `jp-push` to `yang-push`, added a leaf for `identity-ref` to distinguish message origin (network vs. cached/data collection).
        *   **Decision (tentative):** Confirmed the choice of using a Yang data structure for the message container, consistent with the Yang Push envelope, over a notification. This was based on the definition of a data structure representing data not from a Yang datastore or notification.
    *   **Implementations:** NetGoS, PMACCT (Paolo), and Siena Blue Planet UAA (consumer side) are developing implementations.
    *   **Discussion:** Question raised about whether this document should be Informational or Standard Track. Initial quick feedback favored Standard Track.

*   **Hackathon Results: Yang Push to Message Broker Integration (Yanick)**
    *   **Validation:** Conducted a hackathon to validate the telemetry message and Yang Push integration against two Yang Push receivers (PMACCT and NetGoS).
    *   **Tooling:** Utilized YangLint from CESNET, which was updated to support Yang structures following a request from a previous hackathon.
    *   **Findings/Issues Discovered:**
        *   Incorrect `anydata` encoding in network operator metadata (PMACCT).
        *   Timestamp format issues (PMACCT), now updated to RFC 6991bis.
        *   Missing namespace (PMACCT).
        *   Challenges with nested `anydata` structures in validation libraries (NetGoS).
    *   **Hackathon Outcomes:**
        *   **Closed Items:** YangLint Structure Support, PMACCT support for network telemetry message.
        *   **Spilled Over Items:** Yang schema registry supporting Yang features, NetGoS device-facing automation.
        *   **New Action Items (for next hackathon):** YangLint support for `anydata` and validation of nested `anydata` structures.

*   **Yang Data Model for Network Incident Management (Qin Wu)**
    *   **Updates (since IETF 123):**
        *   Replaced "root cause" with "proper root cause" and refined its definition, simplifying it from complex inductive process or ITU-T references.
        *   Replaced "machine learning" with "algorithm technique" in the service impact analysis definition to broaden applicability.
        *   Polished use cases in the appendix:
            *   Correlating troubleshooting tickets with incidents (extending RPC with ticket number).
            *   Multi-domain fault demarcation (OSS invoking incident diagnosis RPC, providing extension example parameters).
            *   Supporting intent-based networking with asynchronous RPC for diagnosis task creation and lookup.
    *   **Discussion:**
        *   Request for feedback on the simplified definition of "proper root cause."
        *   Question from Rashad regarding the incident client's ability to resolve incidents when the server is still detecting alarms; clarification needed in the document.
        *   Question from Chongfong on handling multi-domain-caused incidents (cross-domain OSS/orchestrator using AI to correlate info).
    *   **Action Item:** Chairs to help secure more reviews and comments on the draft to meet the milestone.

*   **C-MAP Concept (Evgeny)**
    *   **Updates (since IETF 123):**
        *   Two new versions submitted based on feedback.
        *   Editorial changes and improved definitions for C-MAP modeling to be more generic.
        *   Addressed all detailed review comments, especially from Rashad. All open issues closed.
    *   **Decision:** The document is considered ready for Working Group Last Call, which will commence after this IETF.
    *   **Next Steps for C-MAP:**
        *   Starting Yang modeling for identified gaps (side meeting tomorrow).
        *   Working on drafts for SPF and ISIS topologies, C-MAP/Pisana relationships.
        *   Hackathons on C-MAP as a Knowledge Graph (presented Wednesday), and future hackathons on C-MAP with Anomaly Detection.

*   **RFC 3535 20 Years Later (Luis)**
    *   **Goal:** Update operator requirements for network management solutions, as per the working group charter.
    *   **Updates:**
        *   Removed "20 years later" from the title.
        *   Reduced the number of authors listed on the first page to five.
        *   Moved content from sections 2 and 3 to an appendix.
        *   Refined the naming of requirements (removed "new" suffix).
    *   **Requirements Identified:** 24 requirements categorized into: data modeling, protocol, interoperability, integration, SDO process, collaboration/cooperation, and skills. Most received strong operator interest.
    *   **Next Steps:**
        *   Prioritize these requirements. Discussions were triggered on the mailing list but received limited responses.
        *   Authors are exploring gathering broader feedback from other fora (e.g., LACNIC, NANOG, RIPE) and other IETF working groups.
        *   Complete section 3.4 of the document, focusing on identified priorities (faster implementation, run code, vendor/operator involvement, correlating diverse data).
        *   Request for working group help in providing feedback to refine prioritized requirements.
    *   **Discussion:**
        *   Clarification on the type of feedback expected from the working group, given it's "operator requirements." Emphasis on prioritizing existing requirements.
        *   Suggestion to gather feedback from vendors on the implementability of requirements, not just operator needs.

*   **Message Key for Message Broker Integration (Thomas)**
    *   **Motivation:** Enable network engineers to query network state directly from message broker topics (e.g., SQL commands on topics) instead of individual device show commands, facilitating digital twin capabilities.
    *   **Terminology:** Clarified message broker concepts: subject (schema), topic, partition, segment, message key, topic compaction.
    *   **Current vs. Proposed Yang Push Integration:**
        *   Current: One giant topic for all Yang Push data, with different schema IDs mapped to subjects within that topic.
        *   Proposed: Multiple topics, with one topic per schema ID, allowing for a single subject per topic.
    *   **Yang Index:** Introduced as a new term, a subset of Yang item identifiers, referring only to Yang nodes of the schema.
    *   **Benefits of Proposed Approach:**
        *   **Topic Compaction:** Achieved by having one subject per topic and a well-defined message key, allowing the topic to reduce messages to the latest state.
        *   **Optimized Consumption:** Consumers can subscribe only to topics relevant to their schema ID and, with deterministic keying, consume only from relevant partitions, significantly reducing data overhead.
    *   **Proposed Topic Naming Convention:** `project.environment.type.schema-id` (e.g., `statistics.yang.schema-ID`).
    *   **Use Cases:** Network engineer SQL queries for change verification, anomaly detection, network inventory.
    *   **Discussion:**
        *   Confirmed that topic compaction and ordering are handled by the message broker.
        *   Concern about "statistics" as a type label; suggested a more general term.
        *   Discussion on partition dynamics in Kafka and their implications.
        *   Highlighted the advantage of streaming for real-time automation and analytics over traditional databases.
        *   Reaffirmed that the document describes the integration context, not message broker-specific APIs for topic creation.
        *   Comparison to Yang Push Light and GMI, noting this solution builds an end-to-end data pipeline.
    *   **Next Steps:** Gather more feedback, widen contributors, test with complex subscriptions, clarify Informational vs. Standard Track, pursue WG adoption, and extend implementation efforts.

*   **AI-based Network Management Agent (Daniela)**
    *   **Background & Goal:** Define an architecture framework for AI agents (NMA) in network management, clarifying their relationship with existing controllers and specifying functional requirements (especially interfaces). NMAs augment, not replace, existing automation.
    *   **Definition:** NMA is an entity using ML/AI to create autonomous closed loops in the network, mapping to the "decision" component of an automation loop.
    *   **Deployment Models:**
        *   **Independent:** NMA separate from network controller (introduces A2U, A2C, A2N interfaces). Potential for misalignment between NMA and controller if NMA interacts directly with the network.
        *   **Integrated:** NMA augments controller interfaces; preferred mode to avoid misalignment.
    *   **Open Issues:**
        *   Extending controller Northbound Interface API (NBIA) to support NMA invocation.
        *   Which interface/protocol to use: NetConf/Yang, HTTP/JSON, or existing industry de facto standards like MCP/A2A?
    *   **Discussion:**
        *   Raised a broader concern about coordinating AI-related work across IETF, suggesting a potential "AITF" focus.
        *   Strong preference for building on MCP/A2A for interfaces due to industry traction and dynamic nature, rather than NetConf/Yang which could be too slow.
        *   Emphasized that "closed loop" does not necessarily mean fully autonomous, and human oversight should always be possible.
        *   Clarification needed on the specific functions an agent provides in this context.
    *   **Next Steps:** Improve content, collect comments, consider WG adoption.

*   **Model for Distributed Authorization Policy Sharing (Unai)**
    *   **Motivation:** Address the fragmentation of authorization policies in distributed, automated, multi-domain environments by providing a common, machine-readable, interpretable model for expression, sharing, and enforcement.
    *   **Proposal:** Use Yang as a canonical representation for authorization policies, treating them as code, allowing fine-grained, context-aware adaptation. Aims to cover the entire policy lifecycle.
    *   **Architecture:** Policy author (Yang format) -> Policy Administration Point (validate, verify, distribute) -> Policy Decision Point (evaluate, make decisions).
    *   **Yang Module Structure:** Includes metadata (ID, version, language), declarative logic (expressed in languages like Rego or OPA), and optional provenance information (e.g., signatures).
    *   **Discussion:**
        *   Question about the relationship with IVY's work on capabilities and entitlements; acknowledged potential, but the current focus is on a central control point for policy distribution.
        *   The approach is likened to extending SDN's central control concept to policies for verifiability and machine readability.
    *   **Next Steps:** Gather feedback, refine the model structure, explore provenance mechanisms, and work on a reference implementation for a future hackathon.

*   **Generalized Capability Principle (Nigel)**
    *   **Motivation:** Need to describe what a network component or function "can do" (its capabilities) *before* it arrives in the network (for planning, procurement). RFC 3535 also highlights this requirement.
    *   **Goal:** Develop a cohesive framework for expressing capabilities, identifying existing (e.g., Yang) and missing language elements, potentially extending Yang.
    *   **Context:** Capabilities are influenced by environment, green considerations, regulation, operator policies, and entitlements (e.g., for plugs).
    *   **Approach:** Develop the framework in NMOP and specific examples/implementations in parallel in IVY (e.g., for entitlements and plugs). Aims to use patterns from other bodies (ITT, ONF) and meta-models.
    *   **Discussion:**
        *   Acknowledged overlap with RFC 9164 (system capabilities) and intends to generalize from it.
        *   Concern raised about the potential for creating an overly complex system. The approach is to start with simple solutions ("low-hanging fruit") to provide immediate value and then gradually build complexity with a recursive framework that is simple on the surface but allows deep detail when needed.

*   **Graph-based Meta Schema (Mahesh)**
    *   **Motivation:** Based on practical implementation, this work proposes a generalized framework for defining modeling using graphs and a set of API operations for multi-actor/parallel processing, offloading client capabilities to the server.
    *   **Terminology:** Uses "resource" for a node and "relationship" for an edge in a graph. Introduces a unique identifier for resources.
    *   **Meta-schema Concept:** Aims to use existing modeling languages (Yang, OpenAPI schema) and connect their data via an independent layer, decoupling "what" a resource is from "how" it relates to others. This allows integration of diverse data sources.
    *   **API Mechanisms:** The framework inherently supports querying (e.g., GraphQL), validation, naming, and resource allocation, enabling reasoning with connected data.
    *   **Discussion:**
        *   Questioned where this work belongs within the IETF, suggesting it might require a new working group.
        *   Comparison to ONF's Component System Pattern (which used hypergraphs) and RDF. The author argued this work decouples the connection layer more, and includes operational aspects not covered by RDF's data concepts.
        *   Acknowledged a Hackathon on Wednesday would present translation of models into RDFS schemas, which could be relevant.
    *   **Next Steps:** Continue sharing knowledge, determine appropriate IETF venue, engage with community feedback.

## Decisions and Action Items

*   **C-MAP Concept:** The document is ready for Working Group Last Call. WG Last Call will be initiated after this IETF. (Chairs)
*   **Yang Push to Message Broker Integration:** An early Ops Directorate review is recommended, followed by WG Last Call *after* the NetConf notification document concludes its WG Last Call. (Authors, Chairs)
*   **Yang Data Model for Network Incident Management:** Chairs will assist in gathering more reviews and comments to help the draft meet its milestone. (Chairs)
*   **RFC 3535 20 Years Later:** Authors will continue to gather broader feedback on requirement prioritization from various fora, including vendors, and update section 3.4. (Authors)
*   **Telemetry Message & Message Key for Message Broker Integration:** Authors to continue discussions on mailing list regarding Informational vs. Standard Track status. (Authors)

## Next Steps

*   **Ongoing Draft Development:** Authors of all presented drafts are encouraged to incorporate feedback, refine content, and continue discussions on the mailing list.
*   **Reviews:** Working group members are urged to actively review documents, especially those approaching Working Group Last Call.
*   **Hackathons:** Continued development and validation through hackathons are planned for Yang Push, C-MAP (Knowledge Graph, Anomaly Detection), and Distributed Authorization Policy Sharing.
*   **IETF-wide Coordination:** A need for clearer guidance and coordination on AI-related work across different IETF working groups was identified.
*   **WG Adoption:** Authors of new individual drafts (AI-based Agent, Distributed Authorization Policy Sharing, Generalized Capability Principle, Graph-based Meta Schema) will seek more feedback to determine interest for potential working group adoption.